# happens before

* 程序次序规则：一个线程内，按照代码顺序，书写在前面的操作先行发生于书写在后面的操作
* 锁定规则：一个unLock操作先行发生于后面对同一个锁lock操作
* volatile变量规则：对一个变量的写操作先行发生于后面对这个变量的读操作
* 传递规则：如果操作A先行发生于操作B，而操作B又先行发生于操作C，则可以得出操作A先行发生于操作C
* 线程启动规则：Thread对象的start()方法先行发生于此线程的每个一个动作
* 线程中断规则：对线程interrupt()方法的调用先行发生于被中断线程的代码检测到中断事件的发生
* 线程终结规则：线程中所有的操作都先行发生于线程的终止检测，我们可以通过Thread.join()方法结束、Thread.isAlive()的返回值手段检测到线程已经终止执行
* 对象终结规则：一个对象的初始化完成先行发生于他的finalize()方法的开始


# 内存
  
  堆：java 对象区
  方法区：类结构区，class文件加载进jvm时会存在不同的数据结构中，包括常量池、域、方法数据、方法体、构造函数
  堆和方法区是所有线程共享
  
  栈：每个线程创建时都会分配对应的栈区，包含内存变量、操作栈、方法返回值
  程序计数器：用于记录下一条要执行指令的地址和被中断地址。如果方法是native的，程序计数器的不会被定义为空
  
  栈和程序计数器是线程私有，每个线程启动时都会创建自己的栈和程序计数器
  本地方法栈：为运行native方法准备的空间
  
  
  